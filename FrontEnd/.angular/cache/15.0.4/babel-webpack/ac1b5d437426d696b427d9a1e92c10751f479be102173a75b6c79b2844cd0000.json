{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../back-end-service.service\";\n//import { LOCAL_STORAGE, StorageService } from 'ngx-webstorage-service';\n// @Injectable()\n// export class MyService {\n//   constructor(@Inject(LOCAL_STORAGE) private storage: StorageService) {}\n// }\nexport class LoginComponent {\n  constructor(fb, router, backendservice) {\n    this.fb = fb;\n    this.router = router;\n    this.backendservice = backendservice;\n    this.Loginstatus = false;\n    this.isUserValid = false;\n    this.LoginFormGroup = this.fb.group({\n      username: [''],\n      password: ['']\n    });\n  }\n  OnSubmit() {\n    if (this.LoginFormGroup.value.username == 'Admin' && this.LoginFormGroup.value.password == 'Admin') {\n      this.router.navigate(['adminhome']);\n    } else {\n      //this.Loginstatus=true;\n      this.backendservice.login([this.LoginFormGroup.value.username, this.LoginFormGroup.value.password]).subscribe(res => {\n        //console.log(res);\n        console.log(this.LoginFormGroup.value.username);\n        if (res == 'Failed') {\n          this.isUserValid = false;\n          alert('Login Unsuccessful');\n        } else {\n          this.isUserValid = true;\n          //console.log(res)\n          let obj = JSON.parse(res);\n          this.sess = obj.loginId;\n          // this.sess=res.charAt(11);\n          // console.log(this.sess);\n          localStorage.setItem('id', this.sess);\n          alert(\"Login Success\");\n          this.router.navigate(['userhome']);\n        }\n      });\n    }\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.BackEndServiceService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 18,\n  vars: 1,\n  consts: [[1, \"login-box\"], [2, \"font-family\", \"'Josefin Sans', sans-serif\"], [3, \"formGroup\"], [1, \"user-box\"], [\"type\", \"text\", \"name\", \"\", \"required\", \"\", \"formControlName\", \"username\"], [\"type\", \"password\", \"name\", \"\", \"required\", \"\", \"formControlName\", \"password\"], [\"type\", \"submit\", \"rounded\", \"true\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"LOGIN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 2)(4, \"div\", 3);\n      i0.ɵɵelement(5, \"input\", 4);\n      i0.ɵɵelementStart(6, \"label\");\n      i0.ɵɵtext(7, \"Username\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 3);\n      i0.ɵɵelement(9, \"input\", 5);\n      i0.ɵɵelementStart(10, \"label\");\n      i0.ɵɵtext(11, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_12_listener() {\n        return ctx.OnSubmit();\n      });\n      i0.ɵɵelement(13, \"span\")(14, \"span\")(15, \"span\")(16, \"span\");\n      i0.ɵɵtext(17, \"LOGIN\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.LoginFormGroup);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAKA;AAIA;AACA;AACA;AACA;AAOA,OAAM,MAAOA,cAAc;EAKzBC,YAAoBC,EAAe,EAAUC,MAAc,EAAUC,cAAqC;IAAtF,OAAE,GAAFF,EAAE;IAAuB,WAAM,GAANC,MAAM;IAAkB,mBAAc,GAAdC,cAAc;IAH5E,gBAAW,GAAG,KAAK;IAC1B,gBAAW,GAAY,KAAK;IAG1B,IAAI,CAACC,cAAc,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAClCC,QAAQ,EAAE,CAAC,EAAE,CAAC;MACdC,QAAQ,EAAE,CAAC,EAAE;KACd,CAAC;EACJ;EAIAC,QAAQ;IACN,IAAI,IAAI,CAACJ,cAAc,CAACK,KAAK,CAACH,QAAQ,IAAI,OAAO,IAAI,IAAI,CAACF,cAAc,CAACK,KAAK,CAACF,QAAQ,IAAI,OAAO,EAAE;MAClG,IAAI,CAACL,MAAM,CAACQ,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;KACpC,MACI;MACH;MACA,IAAI,CAACP,cAAc,CAACQ,KAAK,CAAC,CAAC,IAAI,CAACP,cAAc,CAACK,KAAK,CAACH,QAAQ,EAC7D,IAAI,CAACF,cAAc,CAACK,KAAK,CAACF,QAAQ,CAAC,CAAC,CAACK,SAAS,CAACC,GAAG,IAAG;QACnD;QACAC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,cAAc,CAACK,KAAK,CAACH,QAAQ,CAAC;QAC/C,IAAIO,GAAG,IAAI,QAAQ,EAAE;UACnB,IAAI,CAACG,WAAW,GAAG,KAAK;UACxBC,KAAK,CAAC,oBAAoB,CAAC;SAC5B,MAAM;UACL,IAAI,CAACD,WAAW,GAAG,IAAI;UACvB;UAEA,IAAIE,GAAG,GAACC,IAAI,CAACC,KAAK,CAACP,GAAG,CAAC;UACvB,IAAI,CAACQ,IAAI,GAACH,GAAG,CAACI,OAAO;UACrB;UACA;UACAC,YAAY,CAACC,OAAO,CAAC,IAAI,EAAC,IAAI,CAACH,IAAI,CAAC;UACpCJ,KAAK,CAAC,eAAe,CAAC;UACtB,IAAI,CAACf,MAAM,CAACQ,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC;;MAEtC,CAAC,CAAC;;EAEN;;AAzCWX,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCoB3BC,8BAAuB;MAEkCA,qBAAK;MAAAA,iBAAK;MAE/DA,+BAAmC;MAI3BA,2BAAkE;MAElEA,6BAAO;MAAAA,wBAAQ;MAAAA,iBAAQ;MAI3BA,8BAAsB;MAElBA,2BAAsE;MAEtEA,8BAAO;MAAAA,yBAAQ;MAAAA,iBAAQ;MAI3BA,kCAA0D;MAArBA;QAAA,OAASC,cAAU;MAAA,EAAC;MAACD,wBAAa;MAMtDA,sBAAK;MAAAA,iBAAS;;;MAxB7BA,eAA4B;MAA5BA,8CAA4B","names":["LoginComponent","constructor","fb","router","backendservice","LoginFormGroup","group","username","password","OnSubmit","value","navigate","login","subscribe","res","console","log","isUserValid","alert","obj","JSON","parse","sess","loginId","localStorage","setItem","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\PROJECT\\ComplaintBox\\FrontEnd\\src\\app\\login\\login.component.ts","D:\\PROJECT\\ComplaintBox\\FrontEnd\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { BackEndServiceService } from '../back-end-service.service';\nimport { Inject,Injectable } from '@angular/core';\n//import { LOCAL_STORAGE, StorageService } from 'ngx-webstorage-service';\n\n \n\n// @Injectable()\n// export class MyService {\n//   constructor(@Inject(LOCAL_STORAGE) private storage: StorageService) {}\n// }\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent {\nsess:any;\n  public Loginstatus = false;\n  isUserValid: boolean = false;\n  LoginFormGroup: FormGroup;\n  constructor(private fb: FormBuilder, private router: Router, private backendservice: BackEndServiceService) {\n    this.LoginFormGroup = this.fb.group({\n      username: [''],\n      password: ['']\n    })\n  }\n\n\n\n  OnSubmit() {\n    if (this.LoginFormGroup.value.username == 'Admin' && this.LoginFormGroup.value.password == 'Admin') {\n      this.router.navigate(['adminhome'])\n    }\n    else {\n      //this.Loginstatus=true;\n      this.backendservice.login([this.LoginFormGroup.value.username,\n      this.LoginFormGroup.value.password]).subscribe(res => {\n        //console.log(res);\n        console.log(this.LoginFormGroup.value.username)\n        if (res == 'Failed') {\n          this.isUserValid = false;\n          alert('Login Unsuccessful');\n        } else {\n          this.isUserValid = true;\n          //console.log(res)\n          \n          let obj=JSON.parse(res);\n          this.sess=obj.loginId;\n          // this.sess=res.charAt(11);\n          // console.log(this.sess);\n          localStorage.setItem('id',this.sess);\n          alert(\"Login Success\");\n          this.router.navigate(['userhome'])\n        }\n      });\n    }\n  }\n}\n\n\n\n\n","<!-- <div class=\"container\">\n    <h1 style=\"text-align: center;padding-top: 25px;\">Login</h1>\n    <br>\n    <div class=\"row\">\n        <form [formGroup]='LoginFormGroup'>\n            <div class=\"col-lg-4\"></div>\n            <div class=\"col-lg-6\">\n                <div class=\"row\">\n                    <div class=\"col-lg-2\">\n                        <h5>Username</h5>\n                    </div>\n                    <div class=\"col-lg-6\">\n                        <input type=\"text\" class=\"form-control\" formControlName='username'\n                            placeholder=\"Your Username\" />\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-lg-2\">\n                        <h5>Password</h5>\n                    </div>\n                    <div class=\"col-lg-6\">\n                        <input type=\"password\" class=\"form-control\" formControlName='password'\n                            placeholder=\"Your Password\" />\n                    </div>\n                </div>\n                <br>\n                <div class=\"row\">\n                    <div class=\"col-lg-2\">\n\n                    </div>\n                    <div class=\"col-lg-6\">\n                        <button type=\"submit\" class=\"btn btn-danger\" (click)=\"OnSubmit()\" rounded=\"true\">LOGIN</button>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n</div> -->\n\n<div class=\"login-box\">\n\n    <h2 style=\"font-family: 'Josefin Sans', sans-serif;\">LOGIN</h2>\n\n    <form [formGroup]=\"LoginFormGroup\">\n\n        <div class=\"user-box\">\n\n            <input type=\"text\" name=\"\" required=\"\" formControlName='username'>\n\n            <label>Username</label>\n\n        </div>\n\n        <div class=\"user-box\">\n\n            <input type=\"password\" name=\"\" required=\"\" formControlName='password'>\n\n            <label>Password</label>\n\n        </div>\n\n        <button type=\"submit\" rounded=\"true\" (click)=\"OnSubmit()\"><span></span>\n\n            <span></span>\n\n            <span></span>\n\n            <span></span>LOGIN</button>\n\n    </form>\n\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}